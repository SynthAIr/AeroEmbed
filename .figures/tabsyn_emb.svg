<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="60 60 1050 500">
  <!-- White Background -->
  <rect x="60" y="60" width="1050" height="500" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="600" y="100" text-anchor="middle" font-family="Arial" font-size="24" font-weight="bold" fill="#333333">TabSyn Embedding Extraction and Analysis</text>
  
  <!-- Input label -->
  <text x="140" y="190" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#0066cc">Flight Input Data</text>
  
  <!-- VAE ENCODER SECTION - HIGHLIGHTED -->
  <rect x="220" y="120" width="220" height="200" fill="#ffe6e6" stroke="#cc3333" stroke-width="4" rx="8" ry="8"/>
  <text x="330" y="145" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#cc3333">VAE Encoder</text>
  
  <!-- Tokenizer component -->
  <rect x="240" y="165" width="180" height="60" fill="#ffffff" stroke="#cc3333" stroke-width="1" rx="5" ry="5"/>
  <text x="330" y="185" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold">Column-wise Tokenizer</text>
  <text x="330" y="205" text-anchor="middle" font-family="Arial" font-size="11">Embeddings for both categorical</text>
  <text x="330" y="220" text-anchor="middle" font-family="Arial" font-size="11">and numerical features</text>
  
  <!-- Transformer component -->
  <rect x="240" y="240" width="180" height="60" fill="#ffffff" stroke="#cc3333" stroke-width="1" rx="5" ry="5"/>
  <text x="330" y="260" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold">Transformer Encoder</text>
  <text x="330" y="280" text-anchor="middle" font-family="Arial" font-size="11">Captures inter-column relations</text>
  <text x="330" y="295" text-anchor="middle" font-family="Arial" font-size="11">through self-attention</text>
  
  <!-- LATENT SPACE SECTION - THE EXTRACTED EMBEDDINGS -->
  <rect x="460" y="120" width="200" height="120" fill="#e6f0ff" stroke="#3366cc" stroke-width="4" rx="8" ry="8"/>
  <text x="560" y="145" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#3366cc">Embedding Space</text>
  
  <!-- Embedding representation -->
  <rect x="480" y="165" width="160" height="50" fill="#ffffff" stroke="#3366cc" stroke-width="2" rx="5" ry="5"/>
  <text x="560" y="185" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold">Flight Embeddings</text>
  <text x="560" y="205" text-anchor="middle" font-family="Arial" font-size="11">Unified vector representation</text>
  
  <!-- FADED DIFFUSION SECTION - not part of embedding extraction -->
  <rect x="460" y="250" width="200" height="110" fill="#e6f0ff" stroke="#3366cc" stroke-width="1" rx="8" ry="8" opacity="0.4"/>
  <text x="560" y="270" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#3366cc" opacity="0.4">Diffusion Model</text>
  <text x="560" y="290" text-anchor="middle" font-family="Arial" font-size="10" opacity="0.4">(Used for generation,</text>
  <text x="560" y="305" text-anchor="middle" font-family="Arial" font-size="10" opacity="0.4">not embedding extraction)</text>
  
  <!-- FADED VAE DECODER SECTION - not part of embedding extraction -->
  <rect x="680" y="120" width="220" height="200" fill="#e6ffe6" stroke="#339933" stroke-width="1" rx="8" ry="8" opacity="0.4"/>
  <text x="790" y="145" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#339933" opacity="0.4">VAE Decoder</text>
  
  <!-- Transformer decoder component - faded -->
  <rect x="700" y="165" width="180" height="60" fill="#ffffff" stroke="#339933" stroke-width="1" rx="5" ry="5" opacity="0.4"/>
  <text x="790" y="185" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" opacity="0.4">Transformer Decoder</text>
  <text x="790" y="205" text-anchor="middle" font-family="Arial" font-size="11" opacity="0.4">(Used for generation,</text>
  <text x="790" y="220" text-anchor="middle" font-family="Arial" font-size="11" opacity="0.4">not embedding extraction)</text>
  
  <!-- Detokenizer component - faded -->
  <rect x="700" y="240" width="180" height="60" fill="#ffffff" stroke="#339933" stroke-width="1" rx="5" ry="5" opacity="0.4"/>
  <text x="790" y="260" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold" opacity="0.4">Column Detokenizer</text>
  <text x="790" y="280" text-anchor="middle" font-family="Arial" font-size="11" opacity="0.4">(Used for generation,</text>
  <text x="790" y="295" text-anchor="middle" font-family="Arial" font-size="11" opacity="0.4">not embedding extraction)</text>
  
  <!-- EMBEDDING ANALYSIS SECTION -->
  <rect x="680" y="120" width="220" height="200" fill="#fff2e6" stroke="#ff9933" stroke-width="4" rx="8" ry="8"/>
  <text x="790" y="145" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#ff9933">Embedding Analysis</text>
  
  <!-- Analysis component 1 -->
  <rect x="700" y="165" width="180" height="50" fill="#ffffff" stroke="#ff9933" stroke-width="1" rx="5" ry="5"/>
  <text x="790" y="185" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold">Dimensionality Reduction</text>
  <text x="790" y="205" text-anchor="middle" font-family="Arial" font-size="11">UMAP, t-SNE</text>
  
  <!-- Analysis component 2 -->
  <rect x="700" y="225" width="180" height="50" fill="#ffffff" stroke="#ff9933" stroke-width="1" rx="5" ry="5"/>
  <text x="790" y="245" text-anchor="middle" font-family="Arial" font-size="13" font-weight="bold">Pattern Discovery</text>
  <text x="790" y="265" text-anchor="middle" font-family="Arial" font-size="11">Clustering, Anomaly Detection</text>
  
  <!-- Output label -->
  <text x="1000" y="190" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#ff9933">Operational Insights</text>
  
  <!-- EMBEDDING EXTRACTION WORKFLOW SECTION -->
  <rect x="200" y="380" width="700" height="160" fill="#f9f9f9" stroke="#666666" stroke-width="2" rx="8" ry="8"/>
  <text x="550" y="405" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#333333">Embedding Extraction Process</text>
  
  <!-- Extraction process -->
  <rect x="220" y="420" width="320" height="100" fill="#f0f8ff" stroke="#3366cc" stroke-width="1" rx="5" ry="5"/>
  <text x="380" y="440" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#3366cc">Extraction Flow</text>
  
  <text x="230" y="460" font-family="Arial" font-size="12">1. Preprocess flight data (same as training)</text>
  <text x="230" y="480" font-family="Arial" font-size="12">2. Apply column-wise tokenization</text>
  <text x="230" y="500" font-family="Arial" font-size="12">3. Extract embeddings via the trained encoder</text>
  
  <!-- Analysis process -->
  <rect x="560" y="420" width="320" height="100" fill="#fff6e6" stroke="#ff9933" stroke-width="1" rx="5" ry="5"/>
  <text x="720" y="440" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#ff9933">Analysis Applications</text>
  
  <text x="570" y="460" font-family="Arial" font-size="12">• Airport operational networks</text>
  <text x="570" y="480" font-family="Arial" font-size="12">• Carrier operations comparison</text>
  <text x="570" y="500" font-family="Arial" font-size="12">• Delay pattern analysis and anomaly detection</text>
  
  <!-- Connection Arrows - Simple lines -->
  <!-- Input to encoder -->
  <line x1="190" y1="200" x2="220" y2="200" stroke="#555555" stroke-width="2"/>
  <polygon points="215,195 225,200 215,205" fill="#555555"/>
  
  <!-- Within encoder -->
  <line x1="330" y1="225" x2="330" y2="240" stroke="#cc3333" stroke-width="2"/>
  <polygon points="325,235 330,245 335,235" fill="#cc3333"/>
  
  <!-- Encoder to latent -->
  <line x1="440" y1="220" x2="480" y2="220" stroke="#555555" stroke-width="4"/>
  <polygon points="475,215 485,220 475,225" fill="#555555"/>
  
  <!-- Latent to analysis -->
  <line x1="640" y1="190" x2="680" y2="190" stroke="#555555" stroke-width="4"/>
  <polygon points="675,185 685,190 675,195" fill="#555555"/>
  
  <!-- Within analysis -->
  <line x1="790" y1="215" x2="790" y2="225" stroke="#ff9933" stroke-width="2"/>
  <polygon points="785,220 790,230 795,220" fill="#ff9933"/>
  
  <!-- Analysis to output -->
  <line x1="900" y1="200" x2="930" y2="200" stroke="#555555" stroke-width="2"/>
  <polygon points="925,195 935,200 925,205" fill="#555555"/>
  
  <!-- HIGHLIGHT EXTRACTION FLOW -->
  <path d="M560,215 C560,340 400,340 380,420" stroke="#3366cc" stroke-width="4" stroke-dasharray="5,3" fill="none"/>
  
  <path d="M790,275 C790,340 600,340 620,420" stroke="#ff9933" stroke-width="4" stroke-dasharray="5,3" fill="none"/>
</svg>